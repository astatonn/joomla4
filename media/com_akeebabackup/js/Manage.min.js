"use strict";if("undefined"==typeof akeebabackup)var akeebabackup={};"undefined"==typeof akeebabackup.Manage&&(akeebabackup.Manage={remoteManagementModal:null,uploadModal:null,downloadModal:null,infoModal:null}),akeebabackup.Manage.onRemoteManagementClick=function(a,b){akeebabackup.Manage.remoteManagementModal=new bootstrap.Modal(document.getElementById("akeebabackup-manage-iframe-modal"),{keyboard:!1,background:"static"});var c=document.getElementById("akeebabackup-manage-iframe-modal");c.addEventListener("show.bs.modal",function(){var b=document.getElementById("akeebabackup-manage-iframe-modal-title"),c=document.getElementById("akeebabackup-manage-iframe-modal-close"),d=document.getElementById("akeebabackup-manage-iframe-modal-content");b.innerHTML=Joomla.Text._("COM_AKEEBABACKUP_BUADMIN_LABEL_REMOTEFILEMGMT"),c.classList.remove("d-none"),d.innerHTML="";var e=document.createElement("iframe");e.src=a,e.width="100%",e.height=400,d.appendChild(e)}),c.addEventListener("hidden.bs.modal",function(){window.location=b}),akeebabackup.Manage.remoteManagementModal.show()},akeebabackup.Manage.onUploadClick=function(a,b){akeebabackup.Manage.uploadModal=new bootstrap.Modal(document.getElementById("akeebabackup-manage-iframe-modal"),{keyboard:!1,background:"static"});var c=document.getElementById("akeebabackup-manage-iframe-modal");c.addEventListener("show.bs.modal",function(){var b=document.getElementById("akeebabackup-manage-iframe-modal-title"),c=document.getElementById("akeebabackup-manage-iframe-modal-close"),d=document.getElementById("akeebabackup-manage-iframe-modal-content");b.innerHTML=Joomla.Text._("COM_AKEEBABACKUP_REMOTEFILES_INPROGRESS_HEADER"),c.classList.add("d-none"),d.innerHTML="";var e=document.createElement("iframe");e.src=a,e.width="100%",e.height=300,d.appendChild(e)}),c.addEventListener("hidden.bs.modal",function(){window.location=b}),akeebabackup.Manage.uploadModal.show()},akeebabackup.Manage.confirmDownload=function(a){var b,c,d=a.target;if(null!==d){var e=null!==(b=d.dataset.id)&&void 0!==b?b:"id1",f=null!==(c=d.dataset.part)&&void 0!==c?c:"";if(!(0>e)){var g=Joomla.getOptions("akeebabackup.Manage.downloadURL")+"&id="+e;("undefined"==typeof f||""!==f)&&(g+="&part="+f),console.log("Opening URL "+g),window.location=g}}},akeebabackup.System.documentReady(function(){akeebabackup.System.iterateNodes(".comAkeebaManageDownloadButton",function(a){akeebabackup.System.addEventListener(a,"click",akeebabackup.Manage.confirmDownload)}),akeebabackup.System.iterateNodes(".akeeba_remote_management_link",function(a){akeebabackup.System.addEventListener(a,"click",function(b){var c,d;b.preventDefault();var e=null!==(c=a.dataset.management)&&void 0!==c?c:"",f=null!==(d=a.dataset.reload)&&void 0!==d?d:"";return""!==e&&""!==f&&(akeebabackup.Manage.onRemoteManagementClick(e,f),!1)})}),akeebabackup.System.iterateNodes(".akeeba_upload",function(a){akeebabackup.System.addEventListener(a,"click",function(b){var c,d;b.preventDefault();var e=null!==(c=a.dataset.upload)&&void 0!==c?c:"",f=null!==(d=a.dataset.reload)&&void 0!==d?d:"";return""!==e&&""!==f&&(akeebabackup.Manage.onUploadClick(e,f),!1)})}),Joomla.getOptions("akeebabackup.Manage.ShowHowToRestoreModal",0)&&setTimeout(function(){akeebabackup.System.howToRestoreModal=new bootstrap.Modal(document.getElementById("akeebabackup-config-howtorestore-bubble"),{backdrop:"static"}),akeebabackup.System.howToRestoreModal.show()},500)});
//# sourceMappingURL=Manage.min.js.map