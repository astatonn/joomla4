{"version":3,"sources":["ControlPanel.js"],"names":[],"mappings":"AAKA,aAGA,MAAM,CAAC,UAAP,CAAoB,MAAM,CAAC,UAAP,EAAqB,E,CAEH,WAAlC,QAAO,CAAA,UAAU,CAAC,Y,GAElB,UAAU,CAAC,YAAX,CAA0B,CACtB,MAAiB,IADK,CAEtB,MAAiB,CACb,KAAgB,EADH,CAEb,GAAgB,EAFH,CAGb,aAAgB,EAHH,CAIb,WAAgB,EAJH,CAKb,WAAgB,EALH,CAFK,CAStB,MAAiB,CAAC,IAAD,CAAO,IAAP,CATK,CAUtB,KAAiB,EAVK,CAWtB,cAAiB,wBACA,CACC,CAbI,CActB,SAAiB,mBACA,CACC,CAhBI,CAiBtB,SAAiB,mBACA,CACC,CAnBI,CAoBtB,YAAiB,sBACA,CACC,CAtBI,CAuBtB,WAAiB,qBACA,CACC,CAzBI,CA0BtB,WAAiB,qBACA,CACC,CA5BI,C,EAgC9B,UAAU,CAAC,YAAX,CAAwB,UAAxB,CAAqC,UACrC,CACS,UAAU,CAAC,YAAX,CAAwB,KADjC,GAMI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,IAA9B,EANJ,CAOI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAAgC,IAPpC,CAQC,C,CAED,UAAU,CAAC,YAAX,CAAwB,YAAxB,CAAuC,SAAU,CAAV,CAAe,CAAf,CACvC,IAD8D,CAAA,CAC9D,wDADuE,KACvE,CACU,CAAQ,CAAS,QAAQ,CAAC,cAAT,CAAwB,mBAAxB,CAD3B,CAEU,CAAc,CAAG,QAAQ,CAAC,cAAT,CAAwB,0BAAxB,CAF3B,CAGU,CAAY,CAAK,QAAQ,CAAC,cAAT,CAAwB,wBAAxB,CAH3B,CAKQ,CAAM,CAAG,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CALjB,CAMI,CAAM,CAAC,YAAP,CAAoB,KAApB,CAA2B,CAA3B,CANJ,CAOI,CAAM,CAAC,YAAP,CAAoB,OAApB,CAA6B,MAA7B,CAPJ,CAQI,CAAM,CAAC,YAAP,CAAoB,QAApB,CAA8B,CAA9B,CARJ,CASI,CAAM,CAAC,YAAP,CAAoB,aAApB,CAAmC,CAAnC,CATJ,CAUI,CAAM,CAAC,YAAP,CAAoB,mBAApB,CAAyC,MAAzC,CAVJ,CAYI,CAAY,CAAC,SAAb,CAAyB,EAZ7B,CAaI,CAAY,CAAC,WAAb,CAAyB,CAAzB,CAbJ,CAeI,CAAc,CAAC,SAAf,CAA+B,EAfnC,CAgBI,CAAc,CAAC,KAAf,CAAqB,OAArB,CAA+B,MAhBnC,CAkBQ,CAlBR,GAoBQ,CAAc,CAAC,SAAf,CAA+B,CApBvC,CAqBQ,CAAc,CAAC,KAAf,CAAqB,OAArB,CAA+B,IArBvC,EAwBI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAAgC,GAAI,CAAA,SAAS,CAAC,KAAd,CAC5B,CAD4B,CAClB,CACN,QAAQ,GADF,CAEN,QAAQ,CAAE,QAFJ,CADkB,CAxBpC,CA6BI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,IAA9B,EACH,C,CAED,UAAU,CAAC,YAAX,CAAwB,QAAxB,CAAmC,SAAU,CAAV,CACnC,CAKI,MAJA,CAAA,CAAC,CAAC,cAAF,EAIA,CAFA,UAAU,CAAC,YAAX,CAAwB,YAAxB,CAAqC,QAAQ,CAAC,cAAT,CAAwB,UAAxB,EAAoC,IAAzE,CAA+E,IAA/E,CAAqF,KAArF,CAEA,GACH,C,CAED,UAAU,CAAC,YAAX,CAAwB,QAAxB,CAAmC,SAAU,CAAV,CACnC,CAKI,MAJA,CAAA,CAAC,CAAC,cAAF,EAIA,CAFA,UAAU,CAAC,YAAX,CAAwB,YAAxB,CAAqC,QAAQ,CAAC,cAAT,CAAwB,UAAxB,EAAoC,IAAzE,CAA+E,IAA/E,CAAqF,KAArF,CAEA,GACH,C,CAED,UAAU,CAAC,YAAX,CAAwB,WAAxB,CAAsC,SAAU,CAAV,CACtC,CAKI,MAJA,CAAA,CAAC,CAAC,cAAF,EAIA,CAFA,UAAU,CAAC,YAAX,CAAwB,YAAxB,CAAqC,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,IAA5E,CAAkF,IAAlF,CAAwF,KAAxF,CAEA,GACH,C,CAED,UAAU,CAAC,YAAX,CAAwB,UAAxB,CAAqC,SAAU,CAAV,CACrC,CAKI,MAJA,CAAA,CAAC,CAAC,cAAF,EAIA,CAFA,UAAU,CAAC,YAAX,CAAwB,YAAxB,CAAqC,QAAQ,CAAC,cAAT,CAAwB,YAAxB,EAAsC,IAA3E,CAAiF,IAAjF,CAAuF,KAAvF,CAEA,GACH,C,CAED,UAAU,CAAC,YAAX,CAAwB,UAAxB,CAAqC,UACrC,CACI,QAAS,CAAA,CAAT,CAAmB,CAAnB,CAA2B,CAA3B,CACA,CACI,MAAO,CAAA,KAAK,CAAC,IAAI,CAAC,GAAL,CAAS,CAAM,CAAG,CAAO,CAAP,KAAe,MAAxB,CAAiC,CAA1C,CAA6C,CAA7C,CAAD,CAAL,CAAuD,IAAvD,CAA4D,CAA5D,EAAiE,CAC3E,CAGD,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,IAA9B,CAAqC,QAAQ,CAAC,cAAT,CAAwB,6BAAxB,EAAuD,KAPhG,CAUI,GAAI,CAAA,CAAO,CAAwB,GAAI,CAAA,IAAJ,CAAS,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,IAAvC,CAAnC,CACA,CAAO,CAA4B,GAAI,CAAA,IAAJ,CAAS,CAAO,CAAC,OAAR,aAAT,CAXvC,CAYI,CAAO,CACH,GAAI,CAAA,IAAJ,CACI,CAAS,CAAC,CAAO,CAAC,cAAR,EAAD,CAA2B,CAA3B,CAAT,CAAyC,GAAzC,CAA+C,CAAS,CAAC,CAAO,CAAC,WAAR,GAAwB,CAAzB,CAA4B,CAA5B,CAAxD,CAAyF,GAAzF,CAA+F,CAAS,CACxG,CAAO,CAAC,UAAR,EADwG,CAClF,CADkF,CAD5G,CAbR,CAgBI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,EAA9B,CAAmC,CAAO,CAAC,WAAR,GAAsB,KAAtB,CAA4B,CAA5B,CAA+B,EAA/B,CAhBvC,CAmBI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAA6C,EAnBjD,CAoBI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,SAA9B,CAA6C,EApBjD,CAqBI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,YAA9B,CAA6C,EArBjD,CAsBI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAA6C,EAtBjD,CAyBI,QAAQ,CAAC,cAAT,CAAwB,8BAAxB,EAAwD,KAAxD,CAA8D,OAA9D,CAAwE,MAzB5E,CA0BI,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,KAAvC,CAA6C,OAA7C,CAAwE,IA1B5E,CA4BI,QAAQ,CAAC,cAAT,CAAwB,+BAAxB,EAAyD,KAAzD,CAA+D,OAA/D,CAAyE,MA5B7E,CA6BI,QAAQ,CAAC,cAAT,CAAwB,YAAxB,EAAsC,KAAtC,CAA4C,OAA5C,CAAyE,IA7B7E,CA+BI,UAAU,CAAC,YAAX,CAAwB,wBAAxB,EA/BJ,CAgCI,UAAU,CAAC,YAAX,CAAwB,sBAAxB,EACH,C,CAED,UAAU,CAAC,YAAX,CAAwB,wBAAxB,CAAmD,UACnD,CACI,GAAM,CAAA,CAAG,4EAAuE,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,IAArG,oBAAoH,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,EAAlJ,2EAAT,CAEA,MAAM,CAAC,OAAP,CAAe,CACX,GAAG,CAAQ,CADA,CAEX,MAAM,CAAK,KAFA,CAGX,OAAO,GAHI,CAIX,SAAS,CAAE,mBAAA,CAAO,CACP,IACU,CAAA,CAAI,CAAG,IAAI,CAAC,KAAL,CAAW,CAAX,CADjB,CAGQ,CAAO,CAAa,EAH5B,CAIQ,CAAQ,CAAY,GAAI,CAAA,IAAJ,CAAS,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,IAAvC,CAJ5B,CAKQ,CAAiB,CAAG,EAL5B,KAOI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAA6C,EAPjD,CAQI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,YAA9B,CAA6C,EARjD,GAWI,IAMa,CAAA,CANb,CAMI,SAAgB,CAAhB,CACA,CACI,MAAa,EAAL,EAAA,CAAD,CAAY,IAAM,CAAlB,CAAuB,CACjC,CATL,CACI,GAAI,CAAiB,GAAK,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,EAAxD,CAEI,MAQJ,CAAiB,CACb,CAAQ,CAAC,WAAT,GAAyB,GAAzB,CAA+B,CAAM,CAAC,CAAQ,CAAC,QAAT,GAAsB,CAAvB,CAArC,CAAiE,GAAjE,CAAuE,CAAM,CAC7E,CAAQ,CAAC,OAAT,EAD6E,CAZrF,CAeI,CAAO,CAAC,CAAD,CAAP,CAA6B,CAfjC,CAiBI,CAAQ,CAAG,GAAI,CAAA,IAAJ,CAAS,CAAQ,CAAC,OAAT,GAAqB,KAA9B,CACd,CAED,IAAK,GAEG,CAAA,CAFH,CAAI,CAAC,CAAG,CAAb,CAAgB,CAAC,CAAG,CAAI,CAAC,MAAzB,CAAiC,CAAC,EAAlC,CAEQ,CAFR,CAEe,CAAI,CAAC,CAAD,CAFnB,CAII,CAAO,CAAC,CAAI,CAAC,IAAN,CAAP,CAAqB,QAAQ,CAAmB,GAAlB,CAAA,CAAI,CAAC,UAAN,CAAR,CAAkC,GAJ3D,CAOA,IAAK,GAAI,CAAA,CAAT,GAAuB,CAAA,CAAvB,CAES,CAAO,CAAC,cAAR,CAAuB,CAAvB,CAFT,GAOI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAAyC,IAAzC,CAA8C,CAA9C,CAPJ,CAQI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,YAA9B,CAA2C,IAA3C,CAAgD,CAAO,CAAC,CAAD,CAAvD,CARJ,EAWoB,CAAhB,GAAA,CAAI,CAAC,MAjDb,GAmDQ,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAA6C,EAnDrD,CAoDQ,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,YAA9B,CAA6C,EApDrD,EAuDI,QAAQ,CAAC,cAAT,CAAwB,YAAxB,EAAsC,KAAtC,CAA4C,OAA5C,CAAsD,MAvD1D,IAyDQ,CAAA,CAAqB,CAAG,QAAQ,CAAC,cAAT,CAAwB,+BAAxB,CAzDhC,CA2DQ,CAAQ,CAAG,QAAQ,CAAC,cAAT,CAAwB,qCAAxB,CA3DnB,OA6DI,CAAA,CAAqB,CAAC,KAAtB,CAA4B,OAA5B,CAAsC,IA7D1C,CA8DI,CAAQ,CAAC,KAAT,CAAe,OAAf,CAAsC,MA9D1C,CAgE8D,CAAtD,GAAA,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,YAA9B,CAA2C,MAhEnD,EAkEQ,CAAqB,CAAC,KAAtB,CAA4B,OAA5B,CAAsC,MAlE9C,MAmEQ,CAAQ,CAAC,KAAT,CAAe,OAAf,CAAsC,IAnE9C,OAwEI,CAAA,UAAU,CAAC,YAAX,CAAwB,0BAAxB,EACH,CA9ED,CAAf,CAiFH,C,CAED,UAAU,CAAC,YAAX,CAAwB,sBAAxB,CAAiD,UACjD,CACI,GAAI,CAAA,CAAG,CAAG,oEAAsE,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,IAApG,CAA2G,UAA3G,CAAwH,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,EAAtJ,CAA2J,uFAArK,CAEA,MAAM,CAAC,OAAP,CAAe,CACX,GAAG,CAAQ,CADA,CAEX,MAAM,CAAK,KAFA,CAGX,OAAO,GAHI,CAIX,SAAS,CAAE,mBAAA,CAAO,CACP,CACI,GAAM,CAAA,CAAI,CAAG,IAAI,CAAC,KAAL,CAAW,CAAX,CAAb,CAEA,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,SAA9B,CAA2C,EAH/C,CAII,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAA2C,EAJ/C,CAMI,IAAK,GAEG,CAAA,CAFH,CAAI,CAAC,CAAG,CAAb,CAAgB,CAAC,CAAG,CAAI,CAAC,MAAzB,CAAiC,CAAC,EAAlC,CAEQ,CAFR,CAEe,CAAI,CAAC,CAAD,CAFnB,CAII,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,SAA9B,CAAwC,IAAxC,CAA6C,CAAI,CAAC,MAAlD,CAJJ,CAKI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAAyC,IAAzC,CAA8C,QAAQ,CAAmB,GAAlB,CAAA,CAAI,CAAC,UAAN,CAAR,CAAkC,GAAhF,CALJ,CAQA,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,KAAvC,CAA6C,OAA7C,CAAuD,MAd3D,IAgBQ,CAAA,CAA2B,CAAG,QAAQ,CAAC,cAAT,CAAwB,8BAAxB,CAhBtC,CAiBQ,CAAQ,CAAsB,QAAQ,CAAC,cAAT,CAAwB,oCAAxB,CAjBtC,CAmBI,CAA2B,CAAC,KAA5B,CAAkC,OAAlC,CAA4C,IAnBhD,CAoBI,CAAQ,CAAC,KAAT,CAAe,OAAf,CAA4C,MApBhD,CAsB4D,CAApD,GAAA,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAA9B,CAAyC,MAtBjD,EAwBQ,CAA2B,CAAC,KAA5B,CAAkC,OAAlC,CAA4C,MAxBpD,CAyBQ,CAAQ,CAAC,KAAT,CAAe,OAAf,CAA4C,IAzBpD,EA6BQ,UAAU,CAAC,YAAX,CAAwB,wBAAxB,EAEP,CApCD,CAAf,CAsCH,C,CAED,UAAU,CAAC,YAAX,CAAwB,0BAAxB,CAAqD,UACrD,iBACI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,CAA9B,CADJ,qBACI,EAAkC,OAAlC,EADJ,CAGI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,CAA9B,EAAmC,GAAI,CAAA,KAAJ,CAAU,QAAQ,CAAC,cAAT,CAAwB,+BAAxB,CAAV,CAAoE,CACnG,IAAI,CAAK,MAD0F,CAEnG,IAAI,CAAK,CACL,MAAM,CAAI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UADnC,CAEL,QAAQ,CAAE,CACN,CACI,IAAI,CAAa,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,YADnD,CAEI,IAAI,GAFR,CAGI,WAAW,CAAM,SAHrB,CAII,eAAe,CAAE,qBAJrB,CAKI,OAAO,CAAU,EALrB,CADM,CAFL,CAF0F,CAcnG,OAAO,CAAE,CACL,OAAO,CAAE,CACL,MAAM,CAAE,CACJ,OAAO,GADH,CADH,CADJ,CAML,MAAM,CAAG,CACL,CAAC,CAAE,CACC,IAAI,CAAE,MADP,CAEC,IAAI,CAAE,CACF,IAAI,CAAE,KADJ,CAFP,CADE,CAOL,CAAC,CAAE,CACC,KAAK,CAAE,CACH,WAAW,GADR,CADR,CAPE,CANJ,CAd0F,CAApE,CAmCtC,C,CAED,UAAU,CAAC,YAAX,CAAwB,wBAAxB,CAAmD,UACnD,iBACI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,CAA9B,CADJ,qBACI,EAAkC,OAAlC,EADJ,CAGI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,CAA9B,EAAmC,GAAI,CAAA,KAAJ,CAAU,QAAQ,CAAC,cAAT,CAAwB,8BAAxB,CAAV,CAAmE,CAClG,IAAI,CAAK,UADyF,CAElG,IAAI,CAAK,CACL,MAAM,CAAI,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,SADnC,CAEL,QAAQ,CAAE,CACN,CACI,eAAe,CAAE,CACb,SADa,CAEb,SAFa,CAGb,SAHa,CAIb,SAJa,CAKb,SALa,CAMb,SANa,CAOb,QAPa,CAQb,OARa,CASb,QATa,CADrB,CAYI,IAAI,CAAa,UAAU,CAAC,YAAX,CAAwB,KAAxB,CAA8B,UAZnD,CAaI,IAAI,GAbR,CAcI,WAAW,CAAM,mBAdrB,CAeI,WAAW,CAAM,EAfrB,CADM,CAFL,CAFyF,CAwBlG,OAAO,CAAE,CACL,OAAO,CAAE,CACL,MAAM,CAAE,CACJ,QAAQ,CAAE,OADN,CADH,CADJ,CAxByF,CAAnE,CAgCtC,C,CAED,UAAU,CAAC,YAAX,CAAwB,yBAAxB,CAAoD,SAAU,CAAV,CACpD,CACI,GAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAP,CAAa,CAAb,CAAe,qDAAf,CAAD,CAAZ,CAII,MAFA,CAAA,CAAC,CAAC,cAAF,EAEA,GAEP,C,CAED,UAAU,CAAC,YAAX,CAAwB,iBAAxB,CAA4C,UAC5C,IACQ,CAAA,CAAI,CAAI,MAAM,CAAC,UAAP,CAAkB,8BAAlB,CADhB,CAEQ,CAAK,CAAG,IAAI,CAAC,MAAL,GAAc,QAAd,CAAuB,EAAvB,EAA2B,MAA3B,CAAkC,CAAlC,CAAqC,EAArC,CAFhB,CAII,MAAM,CAAC,OAAP,CAAe,CACX,GAAG,+GAA+G,CAA/G,CADQ,CAEX,MAAM,CAAK,KAFA,CAGX,OAAO,GAHI,CAIX,SAAS,CAAE,mBAAA,CAAI,CACJ,CACI,GAAI,CAAA,CAAM,CAAG,IAAI,CAAC,KAAL,CAAW,CAAX,CAAb,CAEA,UAAK,CAAL,WAAK,CAAL,EAAK,CAAM,CAAE,OAAb,KAKM,CAAA,CAAW,CAAU,QAAQ,CAAC,cAAT,CAAwB,aAAxB,CAL3B,CAMM,CAAkB,CAAG,QAAQ,CAAC,gBAAT,CAA0B,kBAA1B,CAN3B,CAQA,KAAgC,CAA5B,CAAA,CAAkB,CAAC,MAAvB,GAKA,GAAM,CAAA,CAAiB,CAAG,CAAkB,CAAC,CAAD,CAA5C,CAEA,CAAiB,CAAC,IAAlB,CAA4B,CAAiB,CAAC,IAAlB,CAAyB,MAAzB,CAAkC,CAP9D,CAQA,CAAW,CAAC,KAAZ,CAAkB,OAAlB,CAA4B,OAR5B,CARA,CAiBH,CAzBD,CAAf,CA2BH,C,CAED,MAAM,CAAC,gBAAP,CAAwB,kBAAxB,CAA4C,UAC5C,yBAEI,QAAQ,CAAC,cAAT,CAAwB,UAAxB,CAFJ,qBAEI,EACU,gBADV,CAC2B,OAD3B,CACoC,UAAU,CAAC,YAAX,CAAwB,QAD5D,CAFJ,WAII,QAAQ,CAAC,cAAT,CAAwB,UAAxB,CAJJ,qBAII,EACU,gBADV,CAC2B,OAD3B,CACoC,UAAU,CAAC,YAAX,CAAwB,QAD5D,CAJJ,WAMI,QAAQ,CAAC,cAAT,CAAwB,aAAxB,CANJ,qBAMI,EACU,gBADV,CAC2B,OAD3B,CACoC,UAAU,CAAC,YAAX,CAAwB,WAD5D,CANJ,WAQI,QAAQ,CAAC,cAAT,CAAwB,YAAxB,CARJ,qBAQI,EACU,gBADV,CAC2B,OAD3B,CACoC,UAAU,CAAC,YAAX,CAAwB,UAD5D,CARJ,WAUI,QAAQ,CAAC,cAAT,CAAwB,eAAxB,CAVJ,qBAUI,EACU,gBADV,CAC2B,OAD3B,CACoC,UAAU,CAAC,YAAX,CAAwB,yBAD5D,CAVJ,CAcI,UAAU,CAAC,YAAX,CAAwB,iBAAxB,EAdJ,CAiBI,GAAI,CAAA,CAAS,CAA8D,CAA3D,GAAA,MAAM,CAAC,UAAP,CAAkB,gCAAlB,CAAoD,CAApD,CAAhB,CAEK,CAnBT,GAwBI,UAAU,CAAC,YAAX,CAAwB,UAAxB,EAxBJ,CA0BI,QAAQ,CAAC,cAAT,CAAwB,yBAAxB,EACS,gBADT,CAC0B,OAD1B,CACmC,UAAU,CAAC,YAAX,CAAwB,UAD3D,CA1BJ,CA4BC,CA7BD,C","file":"ControlPanel.min.js","sourcesContent":["/**\n * @package   admintools\n * @copyright Copyright (c)2010-2022 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\"use strict\";\n\n// Object initialization\nwindow.admintools = window.admintools || {};\n\nif (typeof admintools.Controlpanel == \"undefined\")\n{\n    admintools.Controlpanel = {\n        \"modal\":         null,\n        \"graph\":         {\n            \"from\":         \"\",\n            \"to\":           \"\",\n            \"exceptPoints\": [],\n            \"subsPoints\":   [],\n            \"typePoints\":   []\n        },\n        \"plots\":         [null, null],\n        \"myIP\":          \"\",\n        \"showChangelog\": function ()\n                         {\n                         },\n        \"cleanTmp\":      function ()\n                         {\n                         },\n        \"fixPerms\":      function ()\n                         {\n                         },\n        \"tmpLogCheck\":   function ()\n                         {\n                         },\n        \"optimizeDB\":    function ()\n                         {\n                         },\n        \"closeModal\":    function ()\n                         {\n                         }\n    };\n}\n\nadmintools.Controlpanel.closeModal = function ()\n{\n    if (!admintools.Controlpanel.modal)\n    {\n        return;\n    }\n\n    admintools.Controlpanel.modal.hide();\n    admintools.Controlpanel.modal = null;\n};\n\nadmintools.Controlpanel.iframeDialog = function (url, header, height = \"400\")\n{\n    const elDialog       = document.getElementById(\"admintools-dialog\");\n    const elDialogHeader = document.getElementById(\"admintools-dialog-header\");\n    const elDialogBody   = document.getElementById(\"admintools-dialog-body\");\n\n    var iFrame = document.createElement(\"iframe\");\n    iFrame.setAttribute(\"src\", url);\n    iFrame.setAttribute(\"width\", \"100%\");\n    iFrame.setAttribute(\"height\", height);\n    iFrame.setAttribute(\"frameborder\", 0);\n    iFrame.setAttribute(\"allowtransparency\", \"true\");\n\n    elDialogBody.innerHTML = \"\";\n    elDialogBody.appendChild(iFrame);\n\n    elDialogHeader.innerHTML     = \"\";\n    elDialogHeader.style.display = \"none\";\n\n    if (header)\n    {\n        elDialogHeader.innerHTML     = header;\n        elDialogHeader.style.display = null;\n    }\n\n    admintools.Controlpanel.modal = new bootstrap.Modal(\n        elDialog, {\n            keyboard: false,\n            backdrop: \"static\"\n        });\n    admintools.Controlpanel.modal.show();\n}\n\nadmintools.Controlpanel.fixPerms = function (e)\n{\n    e.preventDefault();\n\n    admintools.Controlpanel.iframeDialog(document.getElementById(\"fixperms\").href, null, \"400\");\n\n    return false;\n};\n\nadmintools.Controlpanel.cleanTmp = function (e)\n{\n    e.preventDefault();\n\n    admintools.Controlpanel.iframeDialog(document.getElementById(\"cleantmp\").href, null, \"400\");\n\n    return false;\n};\n\nadmintools.Controlpanel.tmpLogCheck = function (e)\n{\n    e.preventDefault();\n\n    admintools.Controlpanel.iframeDialog(document.getElementById(\"tmplogcheck\").href, null, \"400\");\n\n    return false;\n};\n\nadmintools.Controlpanel.optimizeDB = function (e)\n{\n    e.preventDefault();\n\n    admintools.Controlpanel.iframeDialog(document.getElementById(\"optimizedb\").href, null, \"400\");\n\n    return false;\n};\n\nadmintools.Controlpanel.loadGraphs = function ()\n{\n    function padDigits(number, digits)\n    {\n        return Array(Math.max(digits - String(number).length + 1, 0)).join(0) + number;\n    }\n\n    // Get the From date\n    admintools.Controlpanel.graph.from = document.getElementById(\"admintools_graph_datepicker\").value;\n\n    // Calculate the To date\n    var thatDay                      = new Date(admintools.Controlpanel.graph.from);\n    thatDay                          = new Date(thatDay.getTime() + 30 * 86400000);\n    thatDay                          =\n        new Date(\n            padDigits(thatDay.getUTCFullYear(), 4) + \"-\" + padDigits(thatDay.getUTCMonth() + 1, 2) + \"-\" + padDigits(\n            thatDay.getUTCDate(), 2));\n    admintools.Controlpanel.graph.to = thatDay.toISOString().slice(0, 10);\n\n    // Clear the data arrays\n    admintools.Controlpanel.graph.lineLabels   = [];\n    admintools.Controlpanel.graph.pieLabels    = [];\n    admintools.Controlpanel.graph.exceptPoints = [];\n    admintools.Controlpanel.graph.typePoints   = [];\n\n    // Remove the charts and show the spinners\n    document.getElementById(\"admintoolsExceptionsPieChart\").style.display = \"none\";\n    document.getElementById(\"akthrobber2\").style.display                  = null;\n\n    document.getElementById(\"admintoolsExceptionsLineChart\").style.display = \"none\";\n    document.getElementById(\"akthrobber\").style.display                    = null;\n\n    admintools.Controlpanel.loadBlockedRequestsGraph();\n    admintools.Controlpanel.loadExceptionsPieGraph();\n};\n\nadmintools.Controlpanel.loadBlockedRequestsGraph = function ()\n{\n    const url = `index.php?option=com_admintools&view=Blockedrequestslog&datefrom=${admintools.Controlpanel.graph.from}&dateto=${admintools.Controlpanel.graph.to}&groupbydate=1&reason=&ip=&savestate=0&format=json&limit=0&limitstart=0`;\n\n    Joomla.request({\n        url:       url,\n        method:    \"GET\",\n        perform:   true,\n        onSuccess: rawJson =>\n                   {\n                       const data = JSON.parse(rawJson);\n\n                       var perDate           = {};\n                       var thisDate          = new Date(admintools.Controlpanel.graph.from);\n                       var thisDateFormatted = \"\";\n\n                       admintools.Controlpanel.graph.lineLabels   = [];\n                       admintools.Controlpanel.graph.exceptPoints = [];\n\n                       while (true)\n                       {\n                           if (thisDateFormatted === admintools.Controlpanel.graph.to)\n                           {\n                               break;\n                           }\n\n                           function zeroes(n)\n                           {\n                               return (n <= 9) ? (\"0\" + n) : n;\n                           }\n\n                           thisDateFormatted =\n                               thisDate.getFullYear() + \"-\" + zeroes(thisDate.getMonth() + 1) + \"-\" + zeroes(\n                               thisDate.getDate());\n\n                           perDate[thisDateFormatted] = 0;\n\n                           thisDate = new Date(thisDate.getTime() + 86400000);\n                       }\n\n                       for (var i = 0; i < data.length; i++)\n                       {\n                           var item = data[i];\n\n                           perDate[item.date] = parseInt(item.exceptions * 100) / 100;\n                       }\n\n                       for (var dateString in perDate)\n                       {\n                           if (!perDate.hasOwnProperty(dateString))\n                           {\n                               continue;\n                           }\n\n                           admintools.Controlpanel.graph.lineLabels.push(dateString);\n                           admintools.Controlpanel.graph.exceptPoints.push(perDate[dateString]);\n                       }\n\n                       if (data.length === 0)\n                       {\n                           admintools.Controlpanel.graph.lineLabels   = [];\n                           admintools.Controlpanel.graph.exceptPoints = [];\n                       }\n\n                       document.getElementById(\"akthrobber\").style.display = \"none\";\n\n                       var akExceptionsLineChart = document.getElementById(\"admintoolsExceptionsLineChart\");\n\n                       let elNoData = document.getElementById(\"admintoolsExceptionsLineChartNoData\");\n\n                       akExceptionsLineChart.style.display = null;\n                       elNoData.style.display              = \"none\";\n\n                       if (admintools.Controlpanel.graph.exceptPoints.length === 0)\n                       {\n                           akExceptionsLineChart.style.display = \"none\";\n                           elNoData.style.display              = null;\n\n                           return;\n                       }\n\n                       admintools.Controlpanel.renderBlockedRequestsGraph();\n                   }\n    });\n\n};\n\nadmintools.Controlpanel.loadExceptionsPieGraph = function ()\n{\n    var url = \"index.php?option=com_admintools&view=Blockedrequestslog&datefrom=\" + admintools.Controlpanel.graph.from + \"&dateto=\" + admintools.Controlpanel.graph.to + \"&groupbydate=0&groupbytype=1&reason=&ip=&savestate=0&format=json&limit=0&limitstart=0\";\n\n    Joomla.request({\n        url:       url,\n        method:    \"GET\",\n        perform:   true,\n        onSuccess: rawJson =>\n                   {\n                       const data = JSON.parse(rawJson);\n\n                       admintools.Controlpanel.graph.pieLabels  = [];\n                       admintools.Controlpanel.graph.typePoints = [];\n\n                       for (var i = 0; i < data.length; i++)\n                       {\n                           var item = data[i];\n\n                           admintools.Controlpanel.graph.pieLabels.push(item.reason);\n                           admintools.Controlpanel.graph.typePoints.push(parseInt(item.exceptions * 100) / 100);\n                       }\n\n                       document.getElementById(\"akthrobber2\").style.display = \"none\";\n\n                       var akExceptionsPerTypePieChart = document.getElementById(\"admintoolsExceptionsPieChart\");\n                       let elNoData                    = document.getElementById(\"admintoolsExceptionsPieChartNoData\");\n\n                       akExceptionsPerTypePieChart.style.display = null;\n                       elNoData.style.display                    = \"none\";\n\n                       if (admintools.Controlpanel.graph.typePoints.length === 0)\n                       {\n                           akExceptionsPerTypePieChart.style.display = \"none\";\n                           elNoData.style.display                    = null;\n                       }\n                       else\n                       {\n                           admintools.Controlpanel.renderExceptionsPieGraph();\n                       }\n                   }\n    });\n};\n\nadmintools.Controlpanel.renderBlockedRequestsGraph = function ()\n{\n    admintools.Controlpanel.plots[0]?.destroy();\n\n    admintools.Controlpanel.plots[0] = new Chart(document.getElementById(\"admintoolsExceptionsLineChart\"), {\n        type:    \"line\",\n        data:    {\n            labels:   admintools.Controlpanel.graph.lineLabels,\n            datasets: [\n                {\n                    data:            admintools.Controlpanel.graph.exceptPoints,\n                    fill:            true,\n                    borderColor:     \"#4BC0C0\",\n                    backgroundColor: \"rgb(81,79,80, 0.15)\",\n                    tension:         0.1\n                }\n            ]\n        },\n        options: {\n            plugins: {\n                legend: {\n                    display: false\n                }\n            },\n            scales:  {\n                x: {\n                    type: \"time\",\n                    time: {\n                        unit: \"day\"\n                    }\n                },\n                y: {\n                    ticks: {\n                        beginAtZero: true\n                    }\n                }\n            }\n        }\n    });\n};\n\nadmintools.Controlpanel.renderExceptionsPieGraph = function ()\n{\n    admintools.Controlpanel.plots[1]?.destroy();\n\n    admintools.Controlpanel.plots[1] = new Chart(document.getElementById(\"admintoolsExceptionsPieChart\"), {\n        type:    \"doughnut\",\n        data:    {\n            labels:   admintools.Controlpanel.graph.pieLabels,\n            datasets: [\n                {\n                    backgroundColor: [\n                        \"#40B5B8\",\n                        \"#E2363C\",\n                        \"#514F50\",\n                        \"#92CF3B\",\n                        \"#F0AD4E\",\n                        \"#EFEFEF\",\n                        \"yellow\",\n                        \"green\",\n                        \"purple\"\n                    ],\n                    data:            admintools.Controlpanel.graph.typePoints,\n                    fill:            false,\n                    borderColor:     \"rgb(75, 192, 192)\",\n                    lineTension:     0.1\n                }\n            ]\n        },\n        options: {\n            plugins: {\n                legend: {\n                    position: \"right\"\n                }\n            }\n        }\n    });\n};\n\nadmintools.Controlpanel.warnBeforePurgingSessions = function (e)\n{\n    if (!confirm(Joomla.JText._(\"COM_ADMINTOOLS_DATABASETOOLS_LBL_PURGESESSIONS_WARN\")))\n    {\n        e.preventDefault();\n\n        return false;\n    }\n};\n\nadmintools.Controlpanel.showUnblockMyself = function ()\n{\n    let myIP  = Joomla.getOptions(\"admintools.Controlpanel.myIP\");\n    let dummy = Math.random().toString(16).substr(2, 14);\n\n    Joomla.request({\n        url:       `index.php?option=com_admintools&view=Controlpanel&task=selfblocked&tmpl=component&_cacheBustingJunk=${dummy}`,\n        method:    \"GET\",\n        perform:   true,\n        onSuccess: data =>\n                   {\n                       let struct = JSON.parse(data);\n\n                       if (!struct?.blocked)\n                       {\n                           return;\n                       }\n\n                       const selfBlocked        = document.getElementById(\"selfBlocked\");\n                       const selfBlockedAnchors = document.querySelectorAll(\"#selfBlocked > a\");\n\n                       if (selfBlockedAnchors.length < 1)\n                       {\n                           return;\n                       }\n\n                       const selfBlockedAnchor = selfBlockedAnchors[0];\n\n                       selfBlockedAnchor.href    = selfBlockedAnchor.href + \"&ip=\" + myIP;\n                       selfBlocked.style.display = \"block\";\n                   }\n    });\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", function ()\n{\n    // Button event listeners\n    document.getElementById(\"cleantmp\")\n            ?.addEventListener(\"click\", admintools.Controlpanel.cleanTmp);\n    document.getElementById(\"fixperms\")\n            ?.addEventListener(\"click\", admintools.Controlpanel.fixPerms);\n    document.getElementById(\"tmplogcheck\")\n            ?.addEventListener(\"click\", admintools.Controlpanel.tmpLogCheck);\n    document.getElementById(\"optimizedb\")\n            ?.addEventListener(\"click\", admintools.Controlpanel.optimizeDB);\n    document.getElementById(\"purgesessions\")\n            ?.addEventListener(\"click\", admintools.Controlpanel.warnBeforePurgingSessions);\n\n    // Show self-unblock button if necessary\n    admintools.Controlpanel.showUnblockMyself();\n\n    // Graphs\n    var hasGraphs = Joomla.getOptions(\"admintools.Controlpanel.graphs\", 1) !== 0;\n\n    if (!hasGraphs)\n    {\n        return;\n    }\n\n    admintools.Controlpanel.loadGraphs();\n\n    document.getElementById(\"admintools_graph_reload\")\n            .addEventListener(\"click\", admintools.Controlpanel.loadGraphs);\n});"]}